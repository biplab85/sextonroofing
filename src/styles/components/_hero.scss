@import '../variables';
@import '../mixins';

// ============================================================
// Hero — Premium Dark Theme
// ============================================================
.hero {
  position: relative;
  min-height: 100vh;
  display: flex;
  align-items: center;
  overflow: hidden;
  background: #0a0f0c;
}

// ── Background layers ──
.hero__bg-layers {
  position: absolute;
  inset: 0;
  pointer-events: none;
}

.hero__overlay-base {
  position: absolute;
  inset: 0;
  z-index: 1;
}

.hero__aurora {
  position: absolute;
  inset: 0;
  z-index: 2;
  opacity: 0.2;
}

.hero__grid-bg {
  position: absolute;
  inset: 0;
  z-index: 3;
  opacity: 0.03;
}

.hero__horizon {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 1px;
  z-index: 4;
}

.hero__orb {
  position: absolute;
  border-radius: 50%;
  z-index: 2;

  &--a {
    top: -12rem;
    left: -6rem;
    width: 700px;
    height: 700px;
    opacity: 0.06;
    filter: blur(140px);
  }

  &--b {
    bottom: -10rem;
    right: -5rem;
    width: 600px;
    height: 600px;
    opacity: 0.05;
    filter: blur(120px);
  }

  &--c {
    top: 33%;
    right: 25%;
    width: 500px;
    height: 500px;
    opacity: 0.04;
    filter: blur(100px);
  }
}

.hero__mouse-glow {
  position: absolute;
  width: 800px;
  height: 800px;
  border-radius: 50%;
  opacity: 0.05;
  filter: blur(60px);
  will-change: transform;
  z-index: 3;
}

.hero__particle {
  position: absolute;
  z-index: 4;
}

.hero__trail {
  position: absolute;
  top: 0;
  left: 0;
  z-index: 4;
  will-change: transform;
}

// ── Content ──
.hero__inner {
  position: relative;
  z-index: 10;
  width: 100%;
  @include container;
  padding-top: 120px;
  padding-bottom: $space-10;

  @include responsive(lg) {
    padding-top: 140px;
    padding-bottom: $space-16;
  }
}

.hero__grid-layout {
  display: grid;
  grid-template-columns: 1fr;
  gap: $space-8;
  align-items: center;

  @include responsive(lg) {
    grid-template-columns: 1fr 420px;
    gap: $space-16;
  }

  @include responsive(xl) {
    grid-template-columns: 1fr 460px;
  }
}

.hero__content {
  text-align: center;

  @include responsive(lg) {
    text-align: left;
  }
}

// ============================================================
// Pure CSS Entrance Animations (no JS dependency)
// ============================================================
.hero-entrance {
  opacity: 0;
  transform: translateY(24px);
  animation: heroEnter 0.7s cubic-bezier(0.16, 1, 0.3, 1) forwards;

  &--1 { animation-delay: 0.1s; }
  &--2 { animation-delay: 0.2s; }
  &--3 { animation-delay: 0.35s; }
  &--4 { animation-delay: 0.5s; }
  &--5 { animation-delay: 0.65s; }
  &--6 { animation-delay: 0.8s; }
}

@keyframes heroEnter {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

// ── Badge ──
.hero__badge {
  display: inline-flex;
  align-items: center;
  gap: $space-2;
  padding: $space-2 $space-5;
  border-radius: $radius-full;
  margin-bottom: $space-6;
}

.hero__badge-ping {
  position: relative;
  display: flex;
  width: 8px;
  height: 8px;
}

.hero__badge-ping-wave {
  position: absolute;
  display: inline-flex;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background: $color-primary-light;
  opacity: 0.75;
}

.hero__badge-ping-dot {
  position: relative;
  display: inline-flex;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: $color-primary-light;
}

.hero__badge-text {
  font-family: $font-body;
  font-size: $text-sm;
  font-weight: 600;
  color: rgba(#3A6B55, 0.9);
  letter-spacing: 0.2px;
}

// ── Headline ──
.hero__headline {
  font-size: $text-4xl;
  font-weight: 500;
  line-height: 1.08;
  margin-bottom: $space-6;

  @include responsive(sm) {
    font-size: $text-5xl;
  }

  @include responsive(xl) {
    font-size: $text-6xl;
  }
}

.hero__headline-word {
  display: inline-block;
  margin-right: 0.25em;
  color: rgba(255, 255, 255, 0.95);
}

.hero__headline-highlight {
  display: inline-block;
  margin-right: 0.25em;
  color: transparent;
  background: linear-gradient(135deg, #3A6B55 0%, #7E6891 50%, #D4AF37 100%);
  background-size: 200% 200%;
  -webkit-background-clip: text;
  background-clip: text;
  animation: heroGradText 4s ease infinite;
}

// ── Subheadline ──
.hero__subheadline {
  font-family: $font-body;
  font-size: $text-base;
  color: rgba(255, 255, 255, 0.5);
  font-weight: 400;
  line-height: 1.7;
  margin-bottom: $space-8;
  max-width: 540px;

  @include responsive(sm) {
    font-size: $text-lg;
  }

  @include responsive(lg) {
    margin-left: 0;
    margin-right: 0;
    font-size: $text-xl;
  }
}

// ── CTA Buttons ──
.hero__ctas {
  display: flex;
  flex-direction: column;
  gap: $space-3;
  margin-bottom: $space-10;

  @include responsive(sm) {
    flex-direction: row;
    justify-content: center;
  }

  @include responsive(lg) {
    justify-content: flex-start;
  }
}

.hero__cta-primary {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  padding: 16px 32px;
  border-radius: $radius-lg;
  font-family: $font-heading;
  font-size: $text-base;
  font-weight: 500;
  color: $color-white;
  text-decoration: none;
  background: linear-gradient(135deg, $color-accent 0%, $color-accent-hover 50%, #362845 100%);
  box-shadow: 0 8px 32px -4px rgba(81, 60, 96, 0.4), 0 0 0 1px rgba(81, 60, 96, 0.3);
  transition: all 0.4s ease;

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 14px 40px -4px rgba(81, 60, 96, 0.5), 0 0 0 1px rgba(81, 60, 96, 0.4);
    color: $color-white;

    svg:last-child {
      transform: translateX(3px);
    }
  }

  svg:last-child {
    transition: transform 0.3s ease;
  }
}

.hero__cta-secondary {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  padding: 16px 32px;
  border-radius: $radius-lg;
  font-family: $font-heading;
  font-size: $text-base;
  font-weight: 500;
  color: rgba(255, 255, 255, 0.8);
  text-decoration: none;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  transition: all 0.4s ease;

  &:hover {
    transform: translateY(-2px);
    background: rgba(255, 255, 255, 0.08);
    border-color: rgba(58, 107, 85, 0.3);
    color: $color-white;
  }
}

// ── Stats ──
.hero__stats {
  display: flex;
  flex-wrap: wrap;
  gap: $space-6;
  justify-content: center;

  @include responsive(sm) {
    gap: $space-10;
  }

  @include responsive(lg) {
    justify-content: flex-start;
  }
}

.hero__stat {
  text-align: center;
  cursor: default;

  @include responsive(lg) {
    text-align: left;
  }
}

.hero__stat-value {
  font-family: $font-heading;
  font-size: $text-3xl;
  font-weight: 500;
  color: rgba(255, 255, 255, 0.9);
  margin-bottom: 2px;
  transition: color 0.4s ease;

  @include responsive(sm) {
    font-size: $text-4xl;
  }
}

.hero__stat:hover .hero__stat-value {
  color: #3A6B55;
}

.hero__stat-label {
  font-family: $font-body;
  font-size: $text-sm;
  font-weight: 500;
  color: rgba(255, 255, 255, 0.35);
  transition: color 0.4s ease;
}

.hero__stat:hover .hero__stat-label {
  color: rgba(255, 255, 255, 0.6);
}

// ── Form wrapper ──
.hero__form-wrapper {
  position: relative;
}

.hero__ring {
  position: absolute;
  border-radius: 50%;

  &--a {
    top: -48px;
    right: -48px;
    width: 256px;
    height: 256px;
    border: 1px solid rgba(58, 107, 85, 0.08);
  }

  &--b {
    bottom: -40px;
    left: -40px;
    width: 192px;
    height: 192px;
    border: 1px solid rgba(126, 104, 145, 0.08);
  }
}

.hero__form-card {
  position: relative;
  border-radius: $radius-xl;
  padding: $space-8;
  overflow: hidden;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  box-shadow: 0 24px 64px -16px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(255, 255, 255, 0.05);

  @include responsive(lg) {
    padding: $space-8 $space-6;
  }
}

.hero__form-card-shine {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent 5%, rgba(58, 107, 85, 0.4) 30%, rgba(126, 104, 145, 0.3) 70%, transparent 95%);
}

.hero__form-title {
  font-family: $font-heading;
  font-size: $text-xl;
  font-weight: 500;
  color: $color-white;
  text-align: center;
  margin-bottom: $space-6;
}

// ── Dark form overrides (correct BEM selectors) ──
.hero__form-card {
  .form__label {
    color: rgba(255, 255, 255, 0.6);
  }

  .form__input,
  .form__select,
  .form__textarea {
    background: rgba(255, 255, 255, 0.06);
    border-color: rgba(255, 255, 255, 0.1);
    color: $color-white;

    &::placeholder {
      color: rgba(255, 255, 255, 0.3);
    }

    &:hover {
      border-color: rgba(255, 255, 255, 0.18);
    }

    &:focus {
      border-color: rgba(58, 107, 85, 0.5);
      background: rgba(255, 255, 255, 0.08);
      box-shadow: 0 0 0 3px rgba(58, 107, 85, 0.15);
    }
  }

  .form__select {
    color: rgba(255, 255, 255, 0.5);

    option {
      background: #1a2420;
      color: $color-white;
    }
  }

  .form__success {
    &-title {
      color: $color-white;
    }

    &-text {
      color: rgba(255, 255, 255, 0.6);
    }
  }

  .btn--primary {
    background: linear-gradient(135deg, $color-accent 0%, $color-accent-hover 100%);
    box-shadow: 0 8px 24px -4px rgba(81, 60, 96, 0.35);

    &:hover {
      box-shadow: 0 12px 32px -4px rgba(81, 60, 96, 0.5);
    }
  }
}

// ── Floating mini cards ──
.hero__float-card {
  position: absolute;
  z-index: 20;
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 12px 16px;
  border-radius: $radius-lg;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  box-shadow: 0 12px 32px -8px rgba(0, 0, 0, 0.4);

  &--a {
    top: -16px;
    right: -16px;

    @include responsive(sm) { top: 8px; right: -24px; }
    @include responsive(lg) { top: -24px; right: -40px; }
  }

  &--b {
    bottom: -16px;
    left: -16px;

    @include responsive(sm) { bottom: 24px; left: -24px; }
    @include responsive(lg) { bottom: 32px; left: -40px; }
  }
}

.hero__float-card-icon {
  width: 36px;
  height: 36px;
  border-radius: $radius-md;
  @include flex-center;
  border: 1px solid;
  flex-shrink: 0;
}

.hero__float-card-title {
  font-family: $font-heading;
  font-size: $text-xs;
  font-weight: 500;
  color: $color-white;
  white-space: nowrap;
}

.hero__float-card-desc {
  font-size: 10px;
  color: rgba(255, 255, 255, 0.35);
  white-space: nowrap;
}

// ============================================================
// Hero Form Animation — Interactive SVG-style fake form
// ============================================================
.hero-anim {
  position: relative;
  min-height: 280px;
  transition: opacity 0.7s ease;

  &--fade-out {
    opacity: 0;
  }
}

.hero-anim__fields {
  position: relative;
  transition: opacity 0.5s cubic-bezier(0.16, 1, 0.3, 1),
              transform 0.5s cubic-bezier(0.16, 1, 0.3, 1);

  &--hidden {
    opacity: 0;
    transform: scale(0.96);
    pointer-events: none;
  }
}

// ── Individual field ──
.hero-anim__field {
  margin-bottom: $space-4;
  opacity: 0;
  transform: translateY(16px);
  transition: opacity 0.55s cubic-bezier(0.16, 1, 0.3, 1),
              transform 0.55s cubic-bezier(0.16, 1, 0.3, 1);

  &--visible {
    opacity: 1;
    transform: translateY(0);
  }
}

.hero-anim__label {
  font-family: $font-body;
  font-size: $text-sm;
  font-weight: 500;
  color: rgba(255, 255, 255, 0.45);
  margin-bottom: $space-1;
  transition: color 0.4s ease;

  .hero-anim__field--active & {
    color: rgba(58, 107, 85, 0.9);
  }

  .hero-anim__field--complete & {
    color: rgba(255, 255, 255, 0.5);
  }
}

.hero-anim__input {
  position: relative;
  display: flex;
  align-items: center;
  padding: 12px $space-4;
  min-height: 48px;
  border-radius: $radius-md;
  background: rgba(255, 255, 255, 0.04);
  border: 1.5px solid rgba(255, 255, 255, 0.08);
  transition: border-color 0.4s ease,
              background 0.4s ease,
              box-shadow 0.4s ease;

  .hero-anim__field--active & {
    border-color: rgba(58, 107, 85, 0.5);
    background: rgba(255, 255, 255, 0.06);
    box-shadow: 0 0 0 3px rgba(58, 107, 85, 0.08),
                0 0 24px rgba(58, 107, 85, 0.06);
  }

  .hero-anim__field--complete & {
    border-color: rgba(58, 107, 85, 0.2);
    background: rgba(255, 255, 255, 0.05);
  }
}

.hero-anim__text {
  font-family: $font-body;
  font-size: $text-base;
  color: rgba(255, 255, 255, 0.85);
  white-space: nowrap;
  overflow: hidden;
}

.hero-anim__select-icon {
  position: absolute;
  right: 16px;
  top: 50%;
  transform: translateY(-50%);
  color: rgba(255, 255, 255, 0.25);
  transition: color 0.3s ease;

  .hero-anim__field--active & {
    color: rgba(58, 107, 85, 0.6);
  }
}

.hero-anim__cursor {
  display: inline-block;
  width: 2px;
  height: 18px;
  background: rgba(58, 107, 85, 0.8);
  margin-left: 1px;
  border-radius: 1px;
  animation: heroAnimBlink 0.75s ease-in-out infinite;
}

@keyframes heroAnimBlink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
}

// ── Animated submit button ──
.hero-anim__submit {
  position: relative;
  margin-top: $space-6;
  opacity: 0;
  transform: translateY(14px);
  transition: opacity 0.55s cubic-bezier(0.16, 1, 0.3, 1),
              transform 0.55s cubic-bezier(0.16, 1, 0.3, 1);
  overflow: hidden;
  border-radius: $radius-lg;

  &--visible {
    opacity: 1;
    transform: translateY(0);
  }

  &--pressed .hero-anim__submit-inner {
    transform: scale(0.96);
    box-shadow: 0 4px 16px -2px rgba(81, 60, 96, 0.6);
  }
}

.hero-anim__submit-inner {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  padding: 16px 32px;
  font-family: $font-heading;
  font-size: $text-base;
  font-weight: 500;
  color: $color-white;
  background: linear-gradient(135deg, $color-accent 0%, $color-accent-hover 50%, #362845 100%);
  border-radius: $radius-lg;
  box-shadow: 0 8px 32px -4px rgba(81, 60, 96, 0.4);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.hero-anim__submit-shimmer {
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.06) 45%,
    rgba(255, 255, 255, 0.1) 50%,
    rgba(255, 255, 255, 0.06) 55%,
    transparent 100%
  );
  animation: heroAnimShimmer 3s ease-in-out infinite;
  pointer-events: none;
}

@keyframes heroAnimShimmer {
  0% { left: -100%; }
  60% { left: 100%; }
  100% { left: 100%; }
}

// ── Success state ──
.hero-anim__success {
  position: absolute;
  inset: 0;
  @include flex-center;
  flex-direction: column;
  opacity: 0;
  transform: scale(0.85);
  transition: opacity 0.65s cubic-bezier(0.16, 1, 0.3, 1),
              transform 0.65s cubic-bezier(0.16, 1, 0.3, 1);
  pointer-events: none;

  &--visible {
    opacity: 1;
    transform: scale(1);
  }
}

.hero-anim__check-wrap {
  margin-bottom: $space-4;
}

.hero-anim__check-svg {
  color: #3A6B55;
}

.hero-anim__check-circle {
  stroke-dasharray: 152;
  stroke-dashoffset: 152;

  .hero-anim__success--visible & {
    animation: heroAnimCircleDraw 0.7s cubic-bezier(0.65, 0, 0.45, 1) 0.15s forwards;
  }
}

.hero-anim__check-path {
  stroke-dasharray: 40;
  stroke-dashoffset: 40;

  .hero-anim__success--visible & {
    animation: heroAnimCheckDraw 0.4s cubic-bezier(0.65, 0, 0.45, 1) 0.55s forwards;
  }
}

@keyframes heroAnimCircleDraw {
  to { stroke-dashoffset: 0; }
}

@keyframes heroAnimCheckDraw {
  to { stroke-dashoffset: 0; }
}

.hero-anim__success-title {
  font-family: $font-heading;
  font-size: $text-xl;
  font-weight: 500;
  color: $color-white;
  margin-bottom: $space-2;
}

.hero-anim__success-text {
  font-family: $font-body;
  font-size: $text-sm;
  color: rgba(255, 255, 255, 0.45);
}

// ── Celebration particles ──
.hero-anim__particles {
  position: absolute;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
}

.hero-anim__particle {
  position: absolute;
  top: 38%;
  left: 50%;
  border-radius: 50%;
  opacity: 0;

  .hero-anim__success--visible & {
    animation: heroAnimParticleBurst 1.1s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }
}

@keyframes heroAnimParticleBurst {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0);
  }
  25% {
    opacity: 1;
  }
  100% {
    opacity: 0;
    transform: translate(
      calc(-50% + var(--particle-tx)),
      calc(-50% + var(--particle-ty))
    ) scale(1);
  }
}
